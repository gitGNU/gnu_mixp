2011-07-30  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[expat] Fix bug: Make ‘error-string’ handle unrecognized codes.

	Strangely, ‘XML_ErrorString (XML_ERROR_NONE)’ => ‘NULL’.
	That is the unique value in ‘enum XML_Error’ manifesting this.

	* src/expat.c (error_string): Return ‘#f’ if ‘code’ is unrecognized.

2011-07-30  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[doc] Combine indices.

	* doc/mixp.texi: Combine function index into concept index.
	(Top): Update menu.
	(Index): New @node, from merging ‘Concept index’ and ‘Function index’.

2011-07-30  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[expat int] Add abstraction: UD_SIZE

	* src/expat.c (UD_SIZE): New #define.
	(free_parser, make_parser): Use ‘UD_SIZE’.

2011-07-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[doc int] Re-encode .texi in UTF-8.

	* mixp.texi: Specify document encoding as UTF-8;
	on save, re-encode in UTF-8 (was ISO-8859-1 aka LATIN-1).

2011-07-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[doc int] Remove "manual threading"; add missing ‘@top’ directive.

	* mixp.texi: For each ‘@node’ line, remove
	everything from the first comma to end of line.
	(Top): Add ‘@top’ directive.

2011-07-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[doc] Fix some improper ‘@xref’ usage.

	These were flagged by makeinfo (GNU texinfo) 4.13.

	* doc/mixp.texi (How to...): Use ‘@pxref’.
	(Expat handlers): Reword to put ‘@xref’ at end of sentence.
	(Error handling): Use ‘@pxref’.

2011-07-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v int] Prune obsoleted infrastructure.

	* configure.ac (AC_CONFIG_FILES): Remove check-mixp.
	* check-mixp.in: Delete file.
	* guile-expat.c: Delete file.

2011-07-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Import test/infrastructure from ttn-do 381 for "make check".

	* test/Makefile.am: New file.
	* test/runtest.in: New file.
	* test/x001: New file.
	* Makefile.am (SUBDIRS): Add test.
	(EXTRA_DIST): Remove test.
	(TESTS): Delete var.
	* configure.ac (AC_CONFIG_FILES): Add test/Makefile, test/runtest.
	* src/Makefile.am (stamp-all): New target.
	(CLEANFILES): Add stamp-all.

2011-07-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[build] Build from source in src/, not in top-level dir.

	* src/Makefile.am: New file.
	* build-aux/snuggle.m4: New file.
	* build-aux/sofix: New file.
	* build-aux/uninstall-sofixed: New file.
	* autogen.sh: Don't check/ensure build-aux/ existence;
	import Guile-BAUX modules for configure/build.
	* configure.ac (AC_CONFIG_HEADERS): Move config.h to src/.
	(DETERMINE_GUILE_LIBSITE_DIR): New macro call.
	(guile_cv_mkmodcat): New GUILE_TOOLS_EXISTSP for make-module-catalog.
	(mmc): New AC_SUBST.
	(TRIPPY): New AM_CONDITIONAL.
	(AC_CONFIG_FILES): Add src/Makefile.
	* Makefile.am (SUBDIRS): Add src.
	(lib_LTLIBRARIES, libmixp_la_SOURCES, libmixp_la_CFLAGS)
	(libmixp_la_LDFLAGS, libmixp_la_LIBADD, bin_PROGRAMS)
	(guile_expat_SOURCES, guile_expat_CFLAGS, guile_expat_LDFLAGS)
	(guile_expat_LDADD, noinst_HEADERS, BUILT_SOURCES)
	(subpkgdatadir, subpkgdata_DATA): Delete vars.
	(gexpat.x): Delete prereq decl.
	(SUFFIXES, SNARF): Delete vars.
	(.c.x): Delete old-style suffix rule.
	(MKDEP, CLEANFILES): Delete vars.
	(EXTRA_DIST): Add build-aux/sofix,
	build-aux/uninstall-sofixed, build-aux/guile-baux.

2011-07-29  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[int] Rename modules in new source; incorporate ttn-do dependecies.

	* src/utils.scm: Rename from mixp.scm; rename to (mixp utils).
	(fs, accumulator): New procs, from (ttn-do zzz personally).
	(ubs?): New object property, from (ttn-do zzz emacsdream).
	(recognizable-as-ubs): New proc, from same.
	(make-unsigned-byte-stream): Likewise; don't use ‘define*’;
	take optional arg ‘check’ instead of keyword arg.
	(utf8-reader, valid-ucs?, valid-ucs2?): Likewise.
	* src/expat.c (init_mixp_expat_module):
	Rename from ‘init_ttn_do_zz_xml_expat_module’.
	(MOD_INIT_LINK_THUNK): Update ref; rename to (mixp expat).

2011-07-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[int] Import variant source from ttn-do 381.

	See <http://www.gnuvola.org/software/ttn-do/> for details.

	* src/expat.c: New file.
	* src/gi.h: New file.
	* src/mixp.scm: New file.

2011-07-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[doc int] Add infrastructure for building documentation.

	* doc/Makefile.am: New file.
	* Makefile.am (SUBDIRS): New var.
	(EXTRA_DIST): Remove doc.
	* configure.ac (AC_CONFIG_FILES): Add doc/Makefile.

2011-07-28  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[v] Consoliate test files in test/.

	* samples/REC-xml-19980210.xml: Move from here...
	* test/REC-xml-19980210.xml: ...to here.
	* test/test-mixp.scm (test-mixp->): Update input file location.
	* Makefile.am (EXTRA_DIST): Remove samples.
	* samples/: Delete directory.

2011-07-27  Thien-Thi Nguyen  <ttn@gnuvola.org>

	[boot] Modernize configure.ac et al a bit.

	* autogen.sh: Rewrite.
	* configure.ac (AC_PREREQ): Specify ‘2.67’.
	(AC_INIT): Use 3-arg form.
	(AC_CONFIG_AUX_DIR): New macro call.
	(AC_CONFIG_HEADERS): Rename from ‘AM_CONFIG_HEADER’.
	(AC_CONFIG_MACRO_DIR): New macro call.
	(AM_INIT_AUTOMAKE): Use 1-arg form.
	(AM_MAINTAINER_MODE): New macro call.
	(AC_ISC_POSIX, AC_PROG_LIBTOOL): Delete macro calls.
	(strerror): New AC_SEARCH_LIBS.
	(LT_PREREQ, LT_INIT): New macro calls.
	(AM_WITH_EXPAT): Replace macro call with expansion;
	use ‘AS_HELP_STRING’, ‘AS_IF’, etc.
	(AC_CONFIG_FILES): Add Makefile.
	(AC_OUTPUT): Use no-arg form.
	* Makefile.am (ACLOCAL_AMFLAGS): Update.
	(INCLUDES): Delete var.
	(EXTRA_DIST): Remove aclocal, INSTALL.old, INSTALL.
	* INSTALL, INSTALL.old: Delete files.
	* aclocal/guile.m4: Delete file.
	* aclocal/expat.m4: Delete file.
	* aclocal/: Delete directory.

2004-06-28  Dale P. Smith  <dsmith@sourceforge.net>

	[v] Adapt code to Guile 1.6 syntax.

	* test/test-mixp.scm: Changed all non-syntax unquoted () to '().
	Changed all calls to format to include the port (or #t/#f) as a
	first argument.

2003-01-15  Dmitry Morozhnikov  <dmiceman@mail.ru>

	Work around Guile 1.6.1 bug: Export (xml mixp) macros, too.

	Reported by Christian Neukirchen.

2003-01-09  Dmitry Morozhnikov  <dmiceman@mail.ru>

	Adapt to work with Guile 1.6.

	Reported by Christian Neukirchen.

2002-09-12  Dmitry Morozhnikov  <dmiceman@mail.ru>

	Also distribute INSTALL.

2002-09-12  Dmitry Morozhnikov  <dmiceman@mail.ru>

	Mention ‘--with-expat’ option to configure script in README.

2001-08-12  Seth Alves, Eric Hanchrow

	* Seth and Eric reported a compilation problem: CFLAGS included
	the standard directories before the expat directory, which could
	lead to compilation errors if another version of expat is
	installed somewhere else.

	* Other patches by Seth Alves seem to be necessary with the CVS
	version of Guile. See the INSTALL file.

2001-07-14  Thierry Bezecourt  <thbz@thbz.org>

        * No functionality modification. I only change my email address.

2000-08-30  Thierry Bezecourt  <thbz@thbz.cx>

	* mixp.texi: more documentation about handlers.

	* gexpat.c, generic_handlers.h: debugging of the external entity
	parsing.

2000-08-26  Thierry Bezecourt  <thbz@thbz.cx>

	* gexpat.c, generic_handlers.h: support for external entity
	parsing (see doc.)

	* xml/mixp.scm: added mixp:call-with-input-string and
	mixp:call-with-input-file

2000-08-01  Thierry Bezecourt  <thbz@thbz.cx>

	* doc/mixp.texi: bug fix in the documentation (Thanks to Olivier
	Buechel.)

2000-06-16  Thierry Bezecourt  <thbz@thbz.cx>

	* compilation: replaced deprecated function calls (Thanks to
	Olivier Buechel.)

2000-02-07  Thierry Bezecourt  <thbz@worldnet.fr>

	* xml/mixp.scm (mixp:tree->list, mixp:list->tree): added these
	procs.

	* gexpat.c (xml_get_error_code): fixed the return code of this
	function (which was simply wrong).

2000-01-27  Thierry Bezecourt  <thbz@worldnet.fr>

	* xml/mixp.scm (xml): added two procedures: mixp:xml->list to build a
	list of XML nodes from a port, mixp:xml->tree to build a tree
	of XML nodes from a port (the implementation is tail-recursive to
	avoid stack overflows).

	* gexpat.c, mixp.texi: removed expat:parser-free from the Scheme
	interface (the garbage collector will take care of that).

1999-12-22  Thierry Bezecourt  <thbz@worldnet.fr>

	* mixp.scm: added mixp:utf8->latin1 to convert UTF-8 strings
	(returned by the parser) to Latin-1 strings. Will fail if the
	original string is not a valid UTF-8 string, or if it contains
	non-Latin-1 characters.

	* mixp.scm: added other conversion functions: mixp:utf8->ucs2,
	mixp:utf8->ucs4


Copyright (C) 2011 Thien-Thi Nguyen

Copying and distribution of this file, with or without modification,
are permitted provided the copyright notice and this notice are preserved.
